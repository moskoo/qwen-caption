# XXG通义千问离线图片中文打标工具-离线版(Qwen3-VL-8B-Instruct) Ver.2.2
# ✅ PyTorch 2.4.1 + bitsandbytes>=0.44.0 | ✅ huggingface_hub>=1.3.7
# By 西小瓜 / Wechat:priest-mos

# 核心AI框架 (PyTorch 2.4.1 通过脚本单独安装)
numpy==1.26.4  # ✅ 必须 1.26.4 (<2.0)

# 模型处理
accelerate>=0.30.0,<0.35.0
safetensors>=0.4.0,<0.5.0
einops>=0.7.0,<0.9.0
tokenizers>=0.19.0,<0.20.0

# 4-bit量化 (关键: >=0.44.0 修复PyTorch 2.4.1内存泄漏)
bitsandbytes>=0.44.0,<0.45.0

# Web界面
gradio==4.44.1
gradio-client==1.4.0
fastapi==0.115.0
uvicorn==0.32.0

# 图像处理
Pillow>=10.0.0,<11.0.0
opencv-python-headless>=4.9.0,<4.11.0
imageio>=2.30.0,<2.40.0

# 系统工具 (允许最新版)
psutil>=5.9.0,<6.1.0
tqdm>=4.66.0,<4.68.0
huggingface_hub>=1.3.7  # ✅ 允许最新版 (猴子补丁兼容)
requests>=2.31.0,<2.33.0
filelock>=3.13.0,<3.15.0
fsspec>=2023.10.0,<2024.5.0
hf_transfer>=0.1.7,<0.2.0
pyyaml>=6.0.0,<6.1.0
jsonlines>=4.0.0,<5.0.0
packaging>=23.0,<25.0
pydantic>=2.5.0,<2.10.0

# 中文处理
zhconv>=1.4.0,<1.5.0
jieba>=0.42.0,<0.43.0

# transformers编译必需
sentencepiece>=0.1.99,<0.2.1
regex>=2023.10.0,<2024.5.0