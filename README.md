# XXGé€šä¹‰åƒé—®ç¦»çº¿å›¾ç‰‡ä¸­æ–‡æ‰“æ ‡å·¥å…·-ç¦»çº¿ç‰ˆ(QWEN-VL-CHAT)
> **æœ¬åœ°æ¨¡å‹ Â· 100%ç¦»çº¿è¿è¡Œ Â· éšç§å®‰å…¨ Â· ä¸“ä¸šçº§ä¸­æ–‡æè¿°**
>
![](https://img.shields.io/badge/Python-10.0-blue.svg?style=flat#crop=0&crop=0&crop=1&crop=1&id=ebVxY&originHeight=20&originWidth=86&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=#crop=0&crop=0&crop=1&crop=1&id=jYpxH&originHeight=20&originWidth=86&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=#crop=0&crop=0&crop=1&crop=1&id=OveOV&originHeight=20&originWidth=86&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)
![](https://img.shields.io/badge/Pytorch-2.2.2-brightgreen.svg?style=flat#crop=0&crop=0&crop=1&crop=1&id=ebVxY&originHeight=20&originWidth=86&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=#crop=0&crop=0&crop=1&crop=1&id=jYpxH&originHeight=20&originWidth=86&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=#crop=0&crop=0&crop=1&crop=1&id=OveOV&originHeight=20&originWidth=86&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=) ![](https://img.shields.io/badge/Torchvision-0.17.2-brightgreen.svg?style=flat#crop=0&crop=0&crop=1&crop=1&id=ebVxY&originHeight=20&originWidth=86&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=#crop=0&crop=0&crop=1&crop=1&id=jYpxH&originHeight=20&originWidth=86&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=#crop=0&crop=0&crop=1&crop=1&id=OveOV&originHeight=20&originWidth=86&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=) ![](https://img.shields.io/badge/Torchaudio-2.2.2-brightgreen.svg?style=flat#crop=0&crop=0&crop=1&crop=1&id=ebVxY&originHeight=20&originWidth=86&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=#crop=0&crop=0&crop=1&crop=1&id=jYpxH&originHeight=20&originWidth=86&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=#crop=0&crop=0&crop=1&crop=1&id=OveOV&originHeight=20&originWidth=86&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

<!-- è¿™æ˜¯ä¸€å¼ å›¾ç‰‡ -->
![](https://dashscope.oss-cn-beijing.aliyuncs.com/images/qwen-offline-ui.png)

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§
+ **å®Œå…¨ç¦»çº¿**: æ— ç½‘ç»œè¯·æ±‚ï¼Œæ•°æ®æ°¸ä¸ç¦»å¼€æ‚¨çš„è®¾å¤‡
+ **ä¸“ä¸šä¸­æ–‡æè¿°**: è¯¦ç»†åœºæ™¯åˆ†æï¼ŒåŒ…å«äººç‰©ã€ç‰©ä½“ã€ç¯å¢ƒã€é¢œè‰²ã€åŠ¨ä½œã€æ–‡å­—ã€æ’ç‰ˆç­‰
+ **éšç§ä¿æŠ¤**: é€‚åˆå¤„ç†æ•æ„Ÿ/ç§äºº/å•†ä¸šåŒ–å›¾ç‰‡
+ **æ™ºèƒ½èµ„æºç®¡ç†**: 4-bité‡åŒ–æ”¯æŒï¼Œä½æ˜¾å­˜éœ€æ±‚
+ **ç”¨æˆ·å‹å¥½**: ç®€æ´Webç•Œé¢ï¼Œå®æ—¶è¿›åº¦æ˜¾ç¤º

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚
### æœ€ä½é…ç½®
+ **æ“ä½œç³»ç»Ÿ**: Windows 10/11, macOS 12+, Linux
+ **CPU**: 4æ ¸ä»¥ä¸Š
+ **å†…å­˜**: 8GB RAM
+ **ç£ç›˜ç©ºé—´**: 20GB+ ç©ºé—²
+ **Python**: 3.10

### æ¨èé…ç½®
+ **GPU**: NVIDIA GPU (8GB+æ˜¾å­˜)
+ **å†…å­˜**: 16GB+ RAM
+ **ç£ç›˜**: SSD (åŠ å¿«IOé€Ÿåº¦)

### æŠ€æœ¯è§„æ ¼
+ **åŸºç¡€æ¨¡å‹**: Qwen-VL-Chat (é€šä¹‰åƒé—®è§†è§‰è¯­è¨€æ¨¡å‹)
+ **ä¸­æ–‡æ‰“æ ‡è´¨é‡**: ä¸“ä¸šçº§æè¿°ï¼ŒåŒ…å«äººç‰©ã€ç‰©ä½“ã€ç¯å¢ƒã€é¢œè‰²ã€åŠ¨ä½œã€æ–‡å­—ã€æ’ç‰ˆç­‰ç»†èŠ‚
+ **èµ„æºéœ€æ±‚**:
  + ç£ç›˜ç©ºé—´: 20GB+ (æ¨¡å‹18GB + ç¼“å­˜)
  + GPU: NVIDIA GPU 6GB+æ˜¾å­˜ (æ¨è8GB+)
  + CPUæ¨¡å¼: 8GB+ RAM
+ **å¤„ç†é€Ÿåº¦**:
  + GPUæ¨¡å¼: æ¯å¼ 3-5ç§’
  + CPUæ¨¡å¼: æ¯å¼ 20-40ç§’

###  é€‰æ‹©é€‚åˆæ‚¨çš„å¯åŠ¨è„šæœ¬:
+ **Linux/Macç”¨æˆ·**:
  + chmod +x run.sh && ./run.sh
+ **Windowsç”¨æˆ·**:
  + run.bat
###  é¦–æ¬¡è¿è¡Œ:
  + è„šæœ¬ä¼šè‡ªåŠ¨åˆ›å»ºç¯å¢ƒã€å®‰è£…ä¾èµ–ï¼ˆå¤±è´¥åè¯·æ ¹æ®æç¤ºä½¿ç”¨pip installå®‰è£…ï¼‰
  + æç¤ºä¸‹è½½Qwen-VL-Chatæ¨¡å‹ï¼ˆçº¦18GBï¼‰
  + æ¨¡å‹ä¸‹è½½å®Œæˆåå®Œå…¨ç¦»çº¿è¿è¡Œ

### åŸºæœ¬ä¸‹è½½
```bash
python download_models.py
```
### ç½‘ç»œå¾ˆå·®çš„è¯·ä½¿ç”¨å•çº¿ç¨‹ä¸‹è½½
```bash
python download_models_sg.py
```
### ä¸­å›½ç”¨æˆ·åŠ é€Ÿä¸‹è½½(å¯¹æ¯”åŸå§‹é€Ÿåº¦è‡ªè¡Œå†³å®š)
```bash
python download_models.py --mirror
```

### å¢åŠ é‡è¯•æ¬¡æ•°ï¼ˆç½‘ç»œä¸ç¨³å®šæ—¶ï¼‰
```bash
python download_models.py --retry 5
```

## ğŸš€ å¿«é€Ÿå¼€å§‹
### 1. å…‹éš†ä»“åº“
```bash
git clone https://github.com/moskoo/qwen-caption.git
cd qwen-caption
```

### <font style="color:rgb(29, 29, 31);">2. ä¸‹è½½æ¨¡å‹ (éœ€è¦ç½‘ç»œ)</font>
```bash
# Linux/Mac
./run.sh --download

# Windows
run.bat --download
```

### <font style="color:rgb(29, 29, 31);">3. è¿è¡Œåº”ç”¨ (å®Œå…¨ç¦»çº¿)</font>
```bash
# Linux/Mac
./run.sh

# Windows
run.bat
```

### <font style="color:rgb(29, 29, 31);">4. ä½¿ç”¨Webç•Œé¢</font>
1. <font style="color:rgb(29, 29, 31);">è®¿é—® </font><font style="color:rgb(97, 92, 237);">`http://127.0.0.1:9527`</font>
2. <font style="color:rgb(29, 29, 31);">è¾“å…¥å›¾ç‰‡æ–‡ä»¶å¤¹è·¯å¾„</font>
3. <font style="color:rgb(29, 29, 31);">é€‰æ‹©è¿è¡Œæ¨¡å¼ (4-bité‡åŒ–/CPUæ¨¡å¼)</font>
4. <font style="color:rgb(29, 29, 31);">ç‚¹å‡»"</font><font style="color:rgb(29, 29, 31);">ğŸš€</font><font style="color:rgb(29, 29, 31);"> å¼€å§‹ä¸­æ–‡æ‰“æ ‡"</font>
5. <font style="color:rgb(29, 29, 31);">æŸ¥çœ‹ç»“æœå’Œç”Ÿæˆçš„txtæ–‡ä»¶</font>

## <font style="color:rgb(29, 29, 31);">âš™ï¸</font><font style="color:rgb(29, 29, 31);"> é«˜çº§ç”¨æ³•</font>
### <font style="color:rgb(29, 29, 31);">ä½æ˜¾å­˜æ¨¡å¼ (6GBä»¥ä¸‹æ˜¾å­˜GPU)</font>
```bash
python app.py --4bit
```

### <font style="color:rgb(29, 29, 31);">CPUæ¨¡å¼ (æ— GPU)</font>
```bash
python app.py --cpu
```

### <font style="color:rgb(29, 29, 31);">è‡ªå®šä¹‰ç«¯å£</font>
```bash
python app.py --port 7860
```

## <font style="color:rgb(29, 29, 31);">ğŸ“¦</font><font style="color:rgb(29, 29, 31);"> é¡¹ç›®ç»“æ„</font>
```bash
qwen-caption/
â”œâ”€â”€ app.py                     # ä¸»åº”ç”¨ç¨‹åº
â”œâ”€â”€ qwen_models/               # qwen-vl-chatæ¨¡å‹å­˜æ”¾æ–‡ä»¶å¤¹
â”œâ”€â”€ requirements.txt           # ä¾èµ–æ–‡ä»¶
â”œâ”€â”€ run.sh                     # å¯åŠ¨è„šæœ¬ (Linux/Mac)
â”œâ”€â”€ run.bat                    # å¯åŠ¨è„šæœ¬ (Windows)
â”œâ”€â”€ download_models.py         # æ¨¡å‹ä¸‹è½½è„šæœ¬
â”œâ”€â”€ download_models_sg.py      # æ¨¡å‹ä¸‹è½½å•çº¿ç¨‹è„šæœ¬
â”œâ”€â”€ fix_dependencies.py        # ä¾èµ–ä¿®å¤å·¥å…·(è¿ç§»ä½¿ç”¨)
â””â”€â”€ README.md                  # ä½¿ç”¨æŒ‡å—
```

## <font style="color:rgb(29, 29, 31);">ğŸ› ï¸</font><font style="color:rgb(29, 29, 31);"> å¸¸è§é—®é¢˜</font>
### <font style="color:rgb(29, 29, 31);">Q: é¦–æ¬¡è¿è¡Œéœ€è¦å¤šé•¿æ—¶é—´?</font>
<font style="color:rgb(29, 29, 31);">A:</font>

+ <font style="color:rgb(29, 29, 31);">æ¨¡å‹ä¸‹è½½: 10-60åˆ†é’Ÿ (å–å†³äºç½‘ç»œé€Ÿåº¦)</font>
+ <font style="color:rgb(29, 29, 31);">é¦–æ¬¡å¯åŠ¨: 2-5åˆ†é’Ÿ (åŠ è½½æ¨¡å‹åˆ°å†…å­˜)</font>
+ <font style="color:rgb(29, 29, 31);">ä¹‹åå¯åŠ¨: 10-30ç§’</font>

### <font style="color:rgb(29, 29, 31);">Q: å¤„ç†é€Ÿåº¦å¦‚ä½•?</font>
<font style="color:rgb(29, 29, 31);">A:</font>

| <font style="color:rgb(29, 29, 31);">æ¨¡å¼</font> | <font style="color:rgb(29, 29, 31);">æ¯å¼ å›¾ç‰‡è€—æ—¶</font> | <font style="color:rgb(29, 29, 31);">100å¼ å›¾ç‰‡é¢„è®¡</font> |
| --- | --- | --- |
| <font style="color:rgb(29, 29, 31);">GPU (8GB+)</font> | <font style="color:rgb(29, 29, 31);">3-5ç§’</font> | <font style="color:rgb(29, 29, 31);">5-8åˆ†é’Ÿ</font> |
| <font style="color:rgb(29, 29, 31);">4-bité‡åŒ–</font> | <font style="color:rgb(29, 29, 31);">4-7ç§’</font> | <font style="color:rgb(29, 29, 31);">7-12åˆ†é’Ÿ</font> |
| <font style="color:rgb(29, 29, 31);">CPUæ¨¡å¼</font> | <font style="color:rgb(29, 29, 31);">20-40ç§’</font> | <font style="color:rgb(29, 29, 31);">35-70åˆ†é’Ÿ</font> |


### <font style="color:rgb(29, 29, 31);">Q: å¦‚ä½•ç¦»çº¿éƒ¨ç½²åˆ°å¤šå°æœºå™¨?</font>
<font style="color:rgb(29, 29, 31);">A:</font>

1. <font style="color:rgb(29, 29, 31);">åœ¨ä¸€å°æœºå™¨ä¸Šå®Œæˆä¸‹è½½å’ŒéªŒè¯</font>
2. <font style="color:rgb(29, 29, 31);">å¤åˆ¶æ•´ä¸ªé¡¹ç›®ç›®å½• (åŒ…å« </font><font style="color:rgb(97, 92, 237);">`qwen_models`</font><font style="color:rgb(29, 29, 31);"> æ–‡ä»¶å¤¹)</font>
3. <font style="color:rgb(29, 29, 31);">åœ¨ç›®æ ‡æœºå™¨ä¸Šè¿è¡Œ </font><font style="color:rgb(97, 92, 237);">`fix_dependencies.py`</font>
4. <font style="color:rgb(29, 29, 31);">ä½¿ç”¨ </font><font style="color:rgb(97, 92, 237);">`./run.sh`</font><font style="color:rgb(29, 29, 31);"></font><font style="color:rgb(97, 92, 237);">`run.bat`</font><font style="color:rgb(29, 29, 31);"> å¯åŠ¨</font>

### <font style="color:rgb(29, 29, 31);">Q: æ¨¡å‹æ–‡ä»¶å¤ªå¤§æ€ä¹ˆåŠ?</font>
<font style="color:rgb(29, 29, 31);">A:</font>

+ <font style="color:rgb(29, 29, 31);">ä½¿ç”¨4-bité‡åŒ– (æ˜¾å­˜éœ€æ±‚å‡å°‘75%)</font>
+ <font style="color:rgb(29, 29, 31);">ä»…ä¿ç•™å¿…è¦æ–‡ä»¶ (åˆ é™¤ç¤ºä¾‹ã€æ–‡æ¡£ç­‰)</font>
+ <font style="color:rgb(29, 29, 31);">ä½¿ç”¨å¤–éƒ¨ç¡¬ç›˜å­˜å‚¨æ¨¡å‹</font>

## ğŸš€ ä¸ä½¿ç”¨ä¸€é”®è„šæœ¬ä½¿ç”¨æŒ‡å—

### 1. **é¦–æ¬¡è®¾ç½® (éœ€è¦ç½‘ç»œ)**
```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/moskoo/qwen-caption.git
cd qwen-caption

# 2. å®‰è£…ä¾èµ–
python -m venv .venv
source .venv/bin/activate  # Linux/Mac
# .venv\Scripts\activate   # Windows

pip install -r requirements.txt

# 3. ä¸‹è½½æ¨¡å‹ (çº¦5GB)
python download_models.py --mirror  # ä¸­å›½ç”¨æˆ·åŠ --mirrorå‚æ•°

# 4. è¿è¡Œä¸»ç¨‹åº
python app.py
```



### <font style="color:rgb(29, 29, 31);">2. </font>**<font style="color:rgb(29, 29, 31);">ç¦»çº¿è¿ç§»åˆ°å…¶ä»–æœºå™¨</font>**
```bash
# 1. åœ¨å·²é…ç½®å¥½çš„æœºå™¨ä¸Šæ‰“åŒ…
zip -r qwen-caption.zip qwen-caption/

# 2. å¤åˆ¶åˆ°ç›®æ ‡æœºå™¨
# 3. è§£å‹å¹¶è¿è¡Œä¿®å¤è„šæœ¬
python fix_dependencies.py --force

# 4. å¯åŠ¨åº”ç”¨
./run.sh  # æˆ– run.bat
```

**<font style="color:rgb(140, 141, 155);">é‡è¦æç¤º</font>**<font style="color:rgb(140, 141, 155);">: é¦–æ¬¡ä¸‹è½½å®Œæˆåï¼Œæ‰€æœ‰æ“ä½œå®Œå…¨ç¦»çº¿è¿›è¡Œã€‚æ¨¡å‹æ–‡ä»¶çº¦18GBï¼Œç¡®ä¿æœ‰è¶³å¤Ÿç£ç›˜ç©ºé—´ã€‚æœ‰ä»»ä½•ç–‘é—®å¯ä»¥è”ç³»å°ç“œã€‚</font>


## <font style="color:rgb(29, 29, 31);">ğŸ“œ</font><font style="color:rgb(29, 29, 31);"> è®¸å¯è¯</font>
<font style="color:rgb(29, 29, 31);">æœ¬é¡¹ç›®ä½¿ç”¨ </font>[<font style="color:rgb(97, 92, 237);">Apache 2.0 License</font>](https://chat.qwen.ai/c/LICENSE)<font style="color:rgb(29, 29, 31);">ï¼ŒåŸºäºé€šä¹‰å®éªŒå®¤å¼€æºçš„Qwen-VL-Chatæ¨¡å‹ã€‚</font>

**<font style="color:rgb(140, 141, 155);">æ³¨æ„</font>**<font style="color:rgb(140, 141, 155);">: æœ¬å·¥å…·ä»…ç”¨äºä¸ªäººå­¦ä¹ å’Œç ”ç©¶ç›®çš„ã€‚å•†ä¸šä½¿ç”¨è¯·éµå®ˆQwenæ¨¡å‹çš„è®¸å¯åè®®ã€‚</font>

## <font style="color:rgb(29, 29, 31);">ğŸ™</font><font style="color:rgb(29, 29, 31);"> è‡´è°¢</font>
+ [<font style="color:rgb(97, 92, 237);">é€šä¹‰å®éªŒå®¤</font>](https://www.aliyun.com/product/tongyi)<font style="color:rgb(29, 29, 31);"> - Qwen-VL-Chatæ¨¡å‹</font>
+ [<font style="color:rgb(97, 92, 237);">Hugging Face</font>](https://huggingface.co/)<font style="color:rgb(29, 29, 31);"> - æ¨¡å‹æ‰˜ç®¡å¹³å°</font>
+ [<font style="color:rgb(97, 92, 237);">Gradio</font>](https://www.gradio.app/)<font style="color:rgb(29, 29, 31);"> - Webç•Œé¢æ¡†æ¶</font>

---

**<font style="color:rgb(29, 29, 31);">Â©</font>XXG<font style="color:rgb(29, 29, 31);"> 2026 é€šä¹‰åƒé—®ç¦»çº¿å›¾ç‰‡æ‰“æ ‡å·¥å…· | å®Œå…¨ç¦»çº¿ Â· éšç§å®‰å…¨ Â· å¼€æºå…è´¹</font>**
